(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[362],{3025:function(e,t,r){Promise.resolve().then(r.bind(r,8035))},401:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},519:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},1723:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8035:function(e,t,r){"use strict";r.d(t,{WorkflowProgressClient:function(){return u}});var a=r(7437),s=r(3944),n=r(9174),i=r(401),l=r(519),o=r(1723),c=r(5646);let d=[{id:"A",name:"Statement of Belonging",description:"Assess document relationship"},{id:"B",name:"Primary Category",description:"Select main category"},{id:"C",name:"Secondary Tags",description:"Apply metadata tags"}];function u(){let{currentStep:e,completedSteps:t,isDraft:r,lastSaved:u}=(0,c.I)(),m=r=>t.includes(r)?"completed":e===r?"active":"pending",g=()=>{d.findIndex(t=>t.id===e);let r=t.length,a=d.length;return"complete"===e?100:Math.round((r+.5)/a*100)},f=e=>{switch(m(e)){case"completed":return(0,a.jsx)(i.Z,{className:"h-4 w-4 text-white"});case"active":return(0,a.jsx)(l.Z,{className:"h-4 w-4 text-white fill-current"});default:return(0,a.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:"Categorization Progress"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[g(),"% Complete"]})]}),(0,a.jsx)(s.E,{value:g(),className:"h-2"})]}),(0,a.jsx)("div",{className:"space-y-3",children:d.map((e,t)=>{let r=m(e.id),s="active"===r,i="completed"===r;return(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"\n                flex items-center justify-center w-8 h-8 rounded-full border-2 transition-colors\n                ".concat(i?"bg-primary border-primary":s?"bg-primary border-primary":"border-muted-foreground/30","\n              "),children:f(e.id)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium ".concat(s?"text-primary":i?"text-foreground":"text-muted-foreground"),children:["Step ",e.id,": ",e.name]}),s&&(0,a.jsx)(n.C,{variant:"outline",className:"text-xs px-2 py-0",children:"Current"}),i&&(0,a.jsx)(n.C,{className:"text-xs px-2 py-0",children:"Complete"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]}),t<d.length-1&&(0,a.jsx)("div",{className:"\n                  absolute w-0.5 h-6 ml-4 mt-8 transition-colors\n                  ".concat(i?"bg-primary":"bg-muted-foreground/20","\n                "),style:{transform:"translateX(-1px)"}})]},e.id)})}),(0,a.jsxs)("div",{className:"pt-3 border-t space-y-2",children:[r&&u&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)(o.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Draft saved ",new Date(u).toLocaleTimeString()]})]}),"complete"===e&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[(0,a.jsx)(i.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Workflow completed successfully"})]})]})]})}},9174:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var a=r(7437);r(2265);var s=r(7053),n=r(535),i=r(961);let l=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,asChild:n=!1,...o}=e,c=n?s.g7:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(l({variant:r}),t),...o})}},3944:function(e,t,r){"use strict";r.d(t,{E:function(){return w}});var a=r(7437),s=r(2265),n=r(3966),i=r(6840),l="Progress",[o,c]=(0,n.b)(l),[d,u]=o(l),m=s.forwardRef((e,t)=>{var r,s,n,l;let{__scopeProgress:o,value:c=null,max:u,getValueLabel:m=p,...g}=e;(u||0===u)&&!h(u)&&console.error((r="".concat(u),s="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(s,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let f=h(u)?u:100;null===c||y(c,f)||console.error((n="".concat(c),l="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let b=y(c,f)?c:null,w=x(b)?m(b,f):void 0;return(0,a.jsx)(d,{scope:o,value:b,max:f,children:(0,a.jsx)(i.WV.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":x(b)?b:void 0,"aria-valuetext":w,role:"progressbar","data-state":v(b,f),"data-value":null!=b?b:void 0,"data-max":f,...g,ref:t})})});m.displayName=l;var g="ProgressIndicator",f=s.forwardRef((e,t)=>{var r;let{__scopeProgress:s,...n}=e,l=u(g,s);return(0,a.jsx)(i.WV.div,{"data-state":v(l.value,l.max),"data-value":null!==(r=l.value)&&void 0!==r?r:void 0,"data-max":l.max,...n,ref:t})});function p(e,t){return"".concat(Math.round(e/t*100),"%")}function v(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function x(e){return"number"==typeof e}function h(e){return x(e)&&!isNaN(e)&&e>0}function y(e,t){return x(e)&&!isNaN(e)&&e<=t&&e>=0}f.displayName=g;var b=r(961);function w(e){let{className:t,value:r,...s}=e;return(0,a.jsx)(m,{"data-slot":"progress",className:(0,b.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...s,children:(0,a.jsx)(f,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})}},961:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},5646:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(3011),s=r(6885);let n=(0,a.U)()((0,s.tJ)((e,t)=>({currentStep:"A",currentDocument:null,belongingRating:null,selectedCategory:null,selectedTags:{},customTags:[],completedSteps:[],validationErrors:{},isDraft:!1,lastSaved:null,setCurrentDocument:t=>{e({currentDocument:t,currentStep:"A"})},setCurrentStep:t=>{e({currentStep:t})},setBelongingRating:r=>{e({belongingRating:r,isDraft:!0}),t().saveDraft()},setSelectedCategory:r=>{e({selectedCategory:r,isDraft:!0}),t().saveDraft()},setSelectedTags:(r,a)=>{let s={...t().selectedTags};s[r]=a,e({selectedTags:s,isDraft:!0}),t().saveDraft()},addCustomTag:(r,a)=>{let s=[...t().customTags,a],n={...t().selectedTags};n[r]||(n[r]=[]),n[r].push(a.id),e({customTags:s,selectedTags:n,isDraft:!0}),t().saveDraft()},markStepComplete:r=>{let a=[...t().completedSteps];a.includes(r)||a.push(r),e({completedSteps:a})},validateStep:r=>{let a=t(),s={};switch(r){case"A":null===a.belongingRating&&(s.belongingRating="Please provide a relationship rating");break;case"B":a.selectedCategory||(s.selectedCategory="Please select a primary category");break;case"C":["authorship","disclosure-risk","intended-use"].forEach(e=>{a.selectedTags[e]&&0!==a.selectedTags[e].length||(s[e]="Please select at least one ".concat(e.replace("-"," ")," tag"))})}return e({validationErrors:s}),0===Object.keys(s).length},saveDraft:()=>{e({isDraft:!0,lastSaved:new Date().toISOString()})},resetWorkflow:()=>{e({currentStep:"A",belongingRating:null,selectedCategory:null,selectedTags:{},customTags:[],completedSteps:[],validationErrors:{},isDraft:!1,lastSaved:null})},submitWorkflow:async()=>{t(),await new Promise(e=>setTimeout(e,2e3)),e({currentStep:"complete",isDraft:!1,completedSteps:["A","B","C"],lastSaved:new Date().toISOString()})}}),{name:"document-workflow-storage",partialize:e=>({currentDocument:e.currentDocument,belongingRating:e.belongingRating,selectedCategory:e.selectedCategory,selectedTags:e.selectedTags,customTags:e.customTags,completedSteps:e.completedSteps,isDraft:e.isDraft,lastSaved:e.lastSaved})}))}},function(e){e.O(0,[203,39,971,117,744],function(){return e(e.s=3025)}),_N_E=e.O()}]);