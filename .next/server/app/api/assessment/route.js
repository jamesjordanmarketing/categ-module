"use strict";(()=>{var e={};e.id=794,e.ids=[794],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3400:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>p,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{POST:()=>u});var n=s(3278),a=s(5002),i=s(4877),o=s(1309);async function u(e){try{let{documentId:t,step:s,data:r}=await e.json();if(!t||!s)return o.NextResponse.json({error:"Document ID and step are required",success:!1},{status:400});let n={documentId:t,step:s,timestamp:new Date().toISOString()};switch(s){case"A":if(!r.belongingRating)return o.NextResponse.json({error:"Belonging rating is required",success:!1},{status:400});n={...n,belongingRating:r.belongingRating,recommendations:r.belongingRating>=4?["High-value content identified","Proceed with detailed categorization"]:["Consider additional context review","May require supplementary documentation"],confidence:r.belongingRating>=4?.92:.76,nextStep:"B"};break;case"B":if(!r.selectedCategory)return o.NextResponse.json({error:"Selected category is required",success:!1},{status:400});n={...n,selectedCategory:r.selectedCategory,processingStrategy:r.selectedCategory.isHighValue?"Enhanced processing with priority queuing":"Standard processing pipeline",estimatedValue:r.selectedCategory.isHighValue?"High":"Standard",suggestedTags:["authorship:original-content","disclosure-risk:low-risk","intended-use:training-data"],nextStep:"C"};break;case"C":if(!r.selectedTags)return o.NextResponse.json({error:"Selected tags are required",success:!1},{status:400});let a=Object.values(r.selectedTags).flat().length;n={...n,selectedTags:r.selectedTags,tagCount:a,completeness:a>=5?"Complete":"Partial",riskAssessment:"Low",processingReady:!0,finalRecommendations:["Categorization complete and validated","Ready for AI training pipeline","Estimated processing time: 5-10 minutes"]};break;default:return o.NextResponse.json({error:"Invalid step",success:!1},{status:400})}return o.NextResponse.json({assessment:n,success:!0})}catch(e){return o.NextResponse.json({error:"Assessment failed",success:!1},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/assessment/route",pathname:"/api/assessment",filename:"route",bundlePath:"app/api/assessment/route"},resolvedPagePath:"C:\\Users\\james\\Master\\BrightHub\\brun\\cat-module\\src\\app\\api\\assessment\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:l}=c,p="/api/assessment/route";function m(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[787,833],()=>s(3400));module.exports=r})();