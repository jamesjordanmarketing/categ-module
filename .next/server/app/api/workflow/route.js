"use strict";(()=>{var e={};e.id=199,e.ids=[199],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5984:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>w,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>p});var r={};t.r(r),t.d(r,{POST:()=>u});var o=t(3278),a=t(5002),n=t(4877),i=t(1309);async function u(e){try{let s=await e.json(),{documentId:t,belongingRating:r,selectedCategory:o,selectedTags:a,customTags:n,action:u}=s;if(!t||!u)return i.NextResponse.json({error:"Missing required fields",success:!1},{status:400});switch(u){case"save_draft":return i.NextResponse.json({message:"Draft saved successfully",workflowId:`workflow_${t}_${Date.now()}`,savedAt:new Date().toISOString(),success:!0});case"submit":if(!r||!o||!a)return i.NextResponse.json({error:"Incomplete workflow data",success:!1},{status:400});return await new Promise(e=>setTimeout(e,2e3)),i.NextResponse.json({message:"Workflow submitted successfully",workflowId:`workflow_${t}_${Date.now()}`,submittedAt:new Date().toISOString(),processingEstimate:"5-10 minutes",success:!0});case"validate":let c={};return"A"!==s.step||r||(c.belongingRating="Please provide a relationship rating"),"B"!==s.step||o||(c.selectedCategory="Please select a primary category"),"C"===s.step&&["authorship","disclosure-risk","intended-use"].forEach(e=>{a&&a[e]&&0!==a[e].length||(c[e]=`Please select at least one ${e.replace("-"," ")} tag`)}),i.NextResponse.json({valid:0===Object.keys(c).length,errors:c,success:!0});default:return i.NextResponse.json({error:"Invalid action",success:!1},{status:400})}}catch(e){return i.NextResponse.json({error:"Workflow operation failed",success:!1},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/workflow/route",pathname:"/api/workflow",filename:"route",bundlePath:"app/api/workflow/route"},resolvedPagePath:"C:\\Users\\james\\Master\\BrightHub\\brun\\cat-module\\src\\app\\api\\workflow\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:p,serverHooks:d}=c,w="/api/workflow/route";function f(){return(0,n.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:p})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[787,833],()=>t(5984));module.exports=r})();